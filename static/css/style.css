/* static/css/style.css */

/* --- 1. 全体のテーマ設定 (Glassmorphism Base) --- */
:root {
    --glass-bg: rgba(255, 255, 255, 0.25); /* カラム用: 薄いガラス */
    --glass-card: rgba(255, 255, 255, 0.85); /* カード用: 濃いガラス */
    --glass-border: 1px solid rgba(255, 255, 255, 0.4);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    
    --text-main: #2D3748; /* 濃いネイビーグレー */
    --text-sub: #718096;
    
    --brand-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    
    /* ステータスカラー（光るドット用） */
    --status-todo: #FC8181;
    --status-doing: #F6E05E;
    --status-done: #68D391;
}

body {
    font-family: 'Noto Sans JP', sans-serif;
    color: var(--text-main);
    /* 背景を固定(fixed)して、スクロールしてもグラデーションが動かないようにする */
    background: var(--brand-gradient) fixed;
    min-height: 100vh;
}

/* --- 2. ナビゲーションバー (Glass Header) --- */
.navbar-custom {
    /* 以前のグラデーション背景を無効化し、透明ガラスにする */
    background: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: var(--glass-border);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}

.navbar-brand, .nav-link {
    color: white !important;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1); /* 文字が背景に沈まないように少し影を */
}

/* --- 3. メインレイアウト & ガラスのカード --- */

/* 検索フォームや進捗バーの枠 */
.card {
    background: var(--glass-card);
    backdrop-filter: blur(4px);
    border: var(--glass-border);
    box-shadow: var(--glass-shadow);
    border-radius: 16px; /* 角丸を少し大きく */
}

.card-header {
    background-color: rgba(255, 255, 255, 0.3);
    border-bottom: var(--glass-border);
}

/* --- 4. カンバンボードのカラム (Columns) --- */
.kanban-column {
    background: var(--glass-bg);
    border-radius: 16px;
    border: var(--glass-border);
    box-shadow: inset 0 0 15px rgba(255, 255, 255, 0.1); /* 内側にうっすら光を入れる */
    backdrop-filter: blur(8px);
    transition: transform 0.2s;
}

/* 以前のパステル背景を上書きして無効化 */
.col-todo, .col-doing, .col-done {
    background-color: var(--glass-bg); 
    border-top: none; /* 上の線を消す */
}

/* --- 5. 光るドット (Glowing Status Dots) --- */
/* カラムヘッダーの左側に光る点を追加 */
.header-todo::before, .header-doing::before, .header-done::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-right: 8px;
    box-shadow: 0 0 8px currentColor; /* 自分の色で光る */
}

.header-todo { color: white; text-shadow: 0 0 5px var(--status-todo); }
.header-todo::before { background-color: var(--status-todo); color: var(--status-todo); }

.header-doing { color: white; text-shadow: 0 0 5px var(--status-doing); }
.header-doing::before { background-color: var(--status-doing); color: var(--status-doing); }

.header-done { color: white; text-shadow: 0 0 5px var(--status-done); }
.header-done::before { background-color: var(--status-done); color: var(--status-done); }


/* --- 6. タスクカード (Floating Task Cards) --- */
.kanban-card {
    background: rgba(255, 255, 255, 0.9); /* カードは視認性のため少し白く */
    border: 1px solid rgba(255, 255, 255, 0.8);
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    
    /* 左側の色付き線を少し細くスタイリッシュに */
    border-left-width: 5px !important; 
}

/* ホバー時の浮遊アクション */
.kanban-card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
    background: #ffffff; /* ホバー時は真っ白にして強調 */
    z-index: 10;
}

.task-title {
    font-weight: 700;
    color: var(--text-main);
    letter-spacing: 0.03em;
}

/* --- 7. その他 UIパーツの調整 --- */

/* 入力フォーム */
.form-control, .form-select {
    background-color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.5);
    border-radius: 10px;
}
.form-control:focus {
    background-color: #fff;
    box-shadow: 0 0 0 3px rgba(118, 75, 162, 0.25);
}

/* ボタン */
.btn {
    border-radius: 50px; /* 完全な丸ボタン */
    backdrop-filter: blur(4px);
}

.btn-primary {
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.5);
    color: white;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.btn-primary:hover {
    background: rgba(255, 255, 255, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 6px 10px rgba(0,0,0,0.15);
    border-color: white;
}

/* スクロールバーのデザイン（Webkit系） */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05); 
}
::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3); 
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5); 
}